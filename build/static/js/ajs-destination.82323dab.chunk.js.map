{"version":3,"sources":["../../../../../src/plugins/ajs-destination/loader.ts","../../../../../src/plugins/ajs-destination/index.ts","../../../../src/lib/is-plan-event-enabled.ts"],"names":["normalizeName","name","toLowerCase","replace","obfuscatePathName","pathName","obfuscate","btoa","undefined","loadIntegration","ctx","analyticsInstance","version","settings","obfuscatedPathName","path","getNextIntegrationsURL","fullPath","loadScript","_a","window","performance","getEntriesByName","metric","stats","gauge","Math","round","duration","_","recordLoadMetrics","err_1","deps","Promise","all","map","dep","integrationBuilder","Integration","user","addIntegration","integration","analytics","flushQueue","xt","queue","failedQueue","isOffline","pWhile","length","isOnline","pop","attempt","result","Context","push","failed","pushWithBackoff","options","buffer","disableClientPersistence","PriorityQueue","PersistedPriorityQueue","scheduleFlush","LegacyDestination","_ready","onReady","resolve","_b","_this","once","onInitialize","on","_initialized","increment","initialize","error","_ctx","_analyticsInstance","unloadScript","unloadIntegration","_i","fn","middleware","concat","event","type","clz","eventType","shouldBuffer","plan","track","ev","planEvent","isPlanEventEnabled","updateEvent","integrations","All","cancel","ContextCancelation","retry","reason","enabled","applyDestinationMiddleware","afterMiddleware","_c","asPromise","invoke","call","send","Track","_assumesPageview","then","Page","Identify","Alias","Group","flushing","setTimeout","todo","random","ajsDestinations","globalIntegrations","routingMiddleware","isServer","routingRules","middlewareSettings","integrationOptions","mergedOptions","Object","entries","integrationSettings","startsWith","allDisableAndNotDefined","bundlingStatus","versionSettings","componentTypes","includes","override","resolveVersion","destination","filter","rule","destinationName","addMiddleware","__default"],"mappings":"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","file":"static/js/ajs-destination.82323dab.chunk.js","sourceRoot":""}