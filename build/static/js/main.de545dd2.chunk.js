(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[3],{54:function(e,t,a){e.exports=a(85)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t),a.d(t,"analytics",(function(){return ee}));var r=a(1),n=a.n(r),c=a(14),i=a(4),l=a(17),o=a(52),u=a(21);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}function s(e,t){return e.products}function d(e,t){return e.products.find((function(e){return e.id===t.id}))}var p={items:[],currency:"EUR"};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"cart/ADD":return E(e,t.payload);case"cart/REMOVE":return f(e,t.payload);default:return e}}function E(e,t){return Object(u.a)(Object(u.a)({},e),{},{items:[].concat(Object(o.a)(e.items),[t.productId])})}function f(e,t){return Object(u.a)(Object(u.a)({},e),{},{items:e.items.filter((function(e){return e!==t.productId}))})}function y(e){return{type:"cart/REMOVE",payload:{productId:e}}}function v(e,t){return-1!==e.cart.items.indexOf(t.id)}function g(e,t){return e.cart.items.map((function(t){return d(e,{id:t})}))}function O(e,t){return e.cart.currency}function h(e,t){return e.cart.items.reduce((function(t,a){return t+d(e,{id:a}).price}),0)}var _=a(26),N=a(27),j=a(32),w=a(31),C=function(e){var t=e.name,a=e.price,r=e.currency,c=e.onClick;return n.a.createElement("div",{className:"cart-item"},n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-danger btn-xs",onClick:c},"X"),n.a.createElement("span",{className:"cart-item__name"},t)),n.a.createElement("div",{className:"cart-item__price"},a," ",r))},x=a(88),R=x.a.load({writeKey:"NGbJWOc7gdECe6JsObFcsAbQDRq40E2r"}),k=function(e){Object(j.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(_.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleSubmit=function(){var t=e.props,a=t.isInCart,r=t.total;a?R.track("Empty Cart"):R.track("Order Submitted",{cart_value:r,order_value:r})},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.total,r=e.currency,c=e.removeFromCart,i=e.isInCart;return n.a.createElement("div",null,n.a.createElement("h3",null,"Shopping Cart"),n.a.createElement("div",{className:"cart"},n.a.createElement("div",{className:"panel panel-default"},n.a.createElement("div",{className:"panel-body"},t.length>0&&n.a.createElement("div",{className:"cart__body"},t.map((function(e){return n.a.createElement(C,Object.assign({key:e.id},e,{onClick:function(){return c(e.id)}}))}))),0===t.length&&n.a.createElement("div",{className:"alert alert-info"},"Cart is empty"),n.a.createElement("div",{className:"cart__total"},"Total: ",a," ",r),n.a.createElement("div",{className:"cart__button-wrap"},n.a.createElement("button",{className:i?"btn btn-danger":"btn btn-primary",onClick:this.handleSubmit},i?"Nothing to Submit":"Submit Order"))))))}}]),a}(r.Component),S=(a(73),k),D=Object(i.b)((function(e,t){return{items:g(e),currency:O(e),total:h(e)}}),(function(e){return{removeFromCart:function(t){return e(y(t))}}}))(S),I=x.a.load({writeKey:"NGbJWOc7gdECe6JsObFcsAbQDRq40E2r"}),U=function(e){Object(j.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(_.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){var t=e.props,a=t.id,r=t.addToCart,n=t.removeFromCart;t.isInCart?(n(a),I.track("Removed from Cart")):(r(a),I.track("Added to Cart"))},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.price,r=e.currency,c=e.image,i=e.isInCart;return n.a.createElement("div",{className:"product thumbnail"},n.a.createElement("img",{src:c,alt:"product"}),n.a.createElement("div",{className:"caption"},n.a.createElement("h3",null,t),n.a.createElement("div",{className:"product__price"},a," ",r),n.a.createElement("div",{className:"product__button-wrap"},n.a.createElement("button",{className:i?"btn btn-danger":"btn btn-primary",onClick:this.handleClick},i?"Remove":"Add to cart"))))}}]),a}(r.Component),A=(a(74),U),J=Object(i.b)((function(e,t){return{isInCart:v(e,t)}}),(function(e){return{addToCart:function(t){return e({type:"cart/ADD",payload:{productId:t}})},removeFromCart:function(t){return e(y(t))}}}))(A),T=function(e){var t=e.products;return n.a.createElement("div",null,n.a.createElement("h3",null,"Products"),n.a.createElement("ul",{className:"product-list"},t.map((function(e){return n.a.createElement("li",{key:e.id,className:"product-list__item"},n.a.createElement(J,e))}))))},F=(a(75),T),X=Object(i.b)((function(e,t){return{products:s(e)}}))(F),V=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h1",null,"Welcome to demo Energy commerce portal"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement(X,null)),n.a.createElement("div",{className:"col-md-4"},n.a.createElement(D,null))),n.a.createElement("footer",null,n.a.createElement("small",null,"made by for a demo, original source code available on ",n.a.createElement("a",{href:"https://github.com/krzysu/reactjs-shopping-cart"},"github"))))},W=[{id:1,name:"Home Battery",price:35000.99,currency:"EUR",image:"images/01.jpg"},{id:2,name:"Polycrystalline Solar Panel",price:299.99,currency:"EUR",image:"images/02.jpg"},{id:4,name:"Home EV unit",price:549.99,currency:"EUR",image:"images/04.jpg"},{id:6,name:"1 years green energy subscription (monthly pack)",price:289.99,currency:"EUR",image:"images/06.jpg"},{id:5,name:"2 years green energy subscription (monthly pack)",price:249.99,currency:"EUR",image:"images/05.jpg"},{id:3,name:"Yearly energy service premium plan",price:1199.99,currency:"EUR",image:"images/03.jpg"}],q=(a(48),a(76),x.a.load({writeKey:"NGbJWOc7gdECe6JsObFcsAbQDRq40E2r"})),z={height:"250px",display:"flex"},G={margin:"auto",padding:"10px",border:"1px solid #c9c9c9",borderRadius:"5px",background:"#f5f5f5",width:"220px",display:"block"},K={margin:"10px 0 5px 0",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"15px"},L={margin:"5px 0 10px 0",padding:"5px",border:"1px solid #bfbfbf",borderRadius:"3px",boxSizing:"border-box",width:"100%"},P={margin:"10px 0 0 0",padding:"7px 10px",border:"1px solid #efffff",borderRadius:"3px",background:"#3085d6",width:"100%",fontSize:"15px",color:"white",display:"block"},Q=Object(l.a)({cart:b,products:m}),B=Object(l.b)(Q,{products:W},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),H=n.a.forwardRef((function(e,t){var a=e.label,r=e.type;return n.a.createElement("div",null,n.a.createElement("label",{style:K},a),n.a.createElement("input",{ref:t,type:r,style:L}))})),M=function(e){var t=e.onSubmit,a=n.a.useRef(),r=n.a.useRef();return n.a.createElement("form",{style:G,onSubmit:function(e){e.preventDefault();var l={username:a.current.value,password:r.current.value};q.identify(l.username,{name:l.username,email:l.username,plan:"premium",logins:5}),t(l),Object(c.render)(n.a.createElement(i.a,{store:B},n.a.createElement(V,null)),document.getElementById("root"))}},n.a.createElement(H,{ref:a,label:"Username:",type:"text"}),n.a.createElement(H,{ref:r,label:"Password:",type:"password"}),n.a.createElement("div",null,n.a.createElement("button",{style:P,type:"submit"},"Submit")))},Y=function(){return n.a.createElement("div",{style:z},n.a.createElement(M,{onSubmit:function(e){var t=JSON.stringify(e,null,4);console.clear(),console.log(t)}}))},Z=Object(l.a)({cart:b,products:m}),$=Object(l.b)(Z,{products:W},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(c.render)(n.a.createElement(i.a,{store:$},n.a.createElement(Y,null)),document.getElementById("root"));var ee=x.a.load({writeKey:"NGbJWOc7gdECe6JsObFcsAbQDRq40E2r"})}},[[54,6,9]]]);
//# sourceMappingURL=main.de545dd2.chunk.js.map